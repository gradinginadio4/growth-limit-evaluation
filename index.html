<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Diagnostic rapide : Croissance vs. Saturation op√©rationnelle</title>
  <style>
    :root {
      --blue: #000887;
      --pink: #ED51C2;
      --white: #FFFFFF;
      --ink: #0d1438;
      --muted: #5c6288;
      --line: #d9ddf2;
      --ok: #14804a;
      --warn: #9a6a00;
      --danger: #a71d2a;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Inter, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color: var(--ink);
      background: var(--white);
      line-height: 1.45;
    }

    .app {
      max-width: 920px;
      margin: 0 auto;
      padding: 16px;
    }

    .topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 14px;
    }

    .logo-link img {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid var(--line);
    }

    h1 {
      margin: 0;
      color: var(--blue);
      font-size: clamp(1.3rem, 2.8vw, 2rem);
      line-height: 1.2;
    }

    .panel {
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 16px;
      background: #fff;
      box-shadow: 0 3px 14px rgba(0, 8, 135, 0.06);
    }

    .muted { color: var(--muted); }

    .btn {
      border: none;
      border-radius: 10px;
      padding: 12px 14px;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      max-width: 360px;
      transition: transform .06s ease;
    }

    .btn:active { transform: translateY(1px); }

    .btn-primary {
      background: var(--blue);
      color: var(--white);
    }

    .btn-secondary {
      background: #f3f5ff;
      color: var(--blue);
      border: 1px solid #cdd4ff;
    }

    .btn-accent {
      background: var(--pink);
      color: #fff;
    }

    .screen { display: none; }
    .screen.active { display: block; }

    .question-title {
      font-size: 1.05rem;
      color: var(--blue);
      margin: 0 0 10px;
    }

    .choice-grid {
      display: grid;
      gap: 8px;
      margin-top: 10px;
    }

    .choice {
      display: flex;
      gap: 10px;
      align-items: flex-start;
      padding: 10px;
      border: 1px solid var(--line);
      border-radius: 10px;
      cursor: pointer;
    }

    .progress {
      margin: 10px 0 16px;
      font-size: 0.95rem;
      color: var(--muted);
    }

    .result-card {
      border: 1px solid var(--line);
      border-left: 5px solid var(--blue);
      border-radius: 10px;
      padding: 12px;
      margin: 10px 0;
      background: #fafbff;
    }

    .result-badge {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 0.82rem;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .badge-ok { background: #e8f7ef; color: var(--ok); }
    .badge-warn { background: #fff3d6; color: var(--warn); }
    .badge-danger { background: #fdebed; color: var(--danger); }

    .context {
      margin-top: 14px;
      border: 1px solid #e5e9ff;
      border-radius: 10px;
      padding: 10px;
      background: #fbfcff;
      font-size: 0.92rem;
    }

    .context strong { color: var(--blue); }

    .actions {
      display: grid;
      gap: 8px;
      margin-top: 14px;
    }

    footer {
      margin: 20px 0 6px;
      padding-top: 12px;
      border-top: 1px solid var(--line);
      color: var(--muted);
      font-size: 0.9rem;
      text-align: center;
    }

    footer a { color: var(--blue); }

    @media (min-width: 720px) {
      .actions { grid-template-columns: repeat(3, minmax(0, 1fr)); }
      .btn { max-width: unset; }
    }

    @media print {
      .no-print { display: none !important; }
      body { background: #fff; }
      .panel { box-shadow: none; border: none; padding: 0; }
    }
  </style>
</head>
<body>
  <main class="app">
    <div class="topbar no-print">
      <a class="logo-link" href="https://homieuxmedia.com/" target="_blank" rel="noopener noreferrer" aria-label="Homieux Media">
        <img src="logo-homieux.png" alt="Logo Homieux Media" />
      </a>
      <h1>Diagnostic rapide : Croissance vs. Saturation op√©rationnelle</h1>
    </div>

    <section id="home" class="screen active panel">
      <p>Un diagnostic op√©rationnel board-ready pour CEO, COO et Head of Sales.</p>
      <p class="muted">Parcours : Accueil ‚Üí 10 questions ‚Üí Score pond√©r√© ‚Üí R√©sultats ‚Üí Reformulations dynamiques ‚Üí PDF ‚Üí CTA</p>
      <button class="btn btn-primary" id="startBtn">Lancer le diagnostic</button>

      <div class="context">
        <strong>üìç Contexte Belgique 2025‚Äì2026</strong><br />
        Selon la Banque nationale de Belgique, la croissance du PIB r√©el belge est estim√©e √† <strong>1,2 % en 2025</strong> et <strong>1,3 % en 2026</strong>.<br />
        Source : Banque nationale de Belgique, Perspectives √©conomiques (juin 2025).
      </div>
    </section>

    <section id="quiz" class="screen panel">
      <div class="progress" id="progress"></div>
      <h2 class="question-title" id="questionTitle"></h2>
      <div class="choice-grid" id="choices"></div>
    </section>

    <section id="result" class="screen panel">
      <div id="resultContent"></div>

      <div class="context">
        <strong>üìç Contexte Belgique 2025‚Äì2026</strong><br />
        Les donn√©es Statbel indiquent une inflation annuelle moyenne de <strong>3,2 % en 2025</strong> en Belgique.<br />
        Source : Statbel, Indice des prix √† la consommation (publication 2026).
      </div>

      <div class="actions no-print">
        <button class="btn btn-secondary" id="restartBtn">Recommencer</button>
        <button class="btn btn-secondary" id="pdfBtn">T√©l√©charger le PDF</button>
        <a id="ctaBtn" class="btn btn-accent" href="#" target="_blank" rel="noopener noreferrer" style="text-decoration:none; display:inline-flex; align-items:center; justify-content:center;">
          Discutons de votre cas concret ‚Äì 20 min sans engagement
        </a>
      </div>
    </section>

    <footer>
      <a href="https://homieuxmedia.com/" target="_blank" rel="noopener noreferrer">https://homieuxmedia.com/</a> ¬∑ ¬© 2026
    </footer>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" integrity="sha512-qZvrmQn4k5M4J6B0MweXTFWQ5rsyhQOdE31E4n4t4lhPcNI0YvrFica8FWHZcizxgxYkWwaP42Cik+Yj3BPj6g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>
    const questions = [
      { text: "Le volume commercial a-t-il progress√© plus vite que la capacit√© de delivery sur 12 mois ?", weight: 1.2 },
      { text: "Vos √©quipes op√©rationnelles absorbent-elles des urgences r√©currentes chaque semaine ?", weight: 1.1 },
      { text: "Le taux de replanification des interventions a-t-il augment√© ?", weight: 1.0 },
      { text: "Avez-vous une visibilit√© fiable √† 8 semaines sur charge vs ressources ?", weight: 1.2, reverse: true },
      { text: "La marge brute est-elle sous pression malgr√© la croissance du chiffre d‚Äôaffaires ?", weight: 1.3 },
      { text: "Les cycles de validation interne ralentissent-ils l‚Äôex√©cution client ?", weight: 1.0 },
      { text: "Les managers passent-ils plus de temps en coordination qu‚Äôen pilotage ?", weight: 1.1 },
      { text: "Les incidents qualit√© ou conformit√© sont-ils en hausse ?", weight: 1.3 },
      { text: "Votre mod√®le de pricing est-il encore align√© sur les co√ªts r√©els ?", weight: 1.2, reverse: true },
      { text: "Les d√©cisions critiques sont-elles concentr√©es sur trop peu de personnes ?", weight: 1.1 }
    ];

    const options = [
      { label: "Non", value: 0 },
      { label: "Partiellement", value: 5 },
      { label: "Oui", value: 10 }
    ];

    const state = { idx: 0, answers: [] };

    const screens = {
      home: document.getElementById('home'),
      quiz: document.getElementById('quiz'),
      result: document.getElementById('result')
    };

    const progress = document.getElementById('progress');
    const questionTitle = document.getElementById('questionTitle');
    const choices = document.getElementById('choices');
    const resultContent = document.getElementById('resultContent');

    function show(screen) {
      Object.values(screens).forEach(el => el.classList.remove('active'));
      screens[screen].classList.add('active');
    }

    function renderQuestion() {
      const q = questions[state.idx];
      progress.textContent = `Question ${state.idx + 1} / ${questions.length}`;
      questionTitle.textContent = q.text;
      choices.innerHTML = '';

      options.forEach(opt => {
        const row = document.createElement('label');
        row.className = 'choice';
        row.innerHTML = `<input type="radio" name="q" value="${opt.value}" /> <span>${opt.label}</span>`;
        row.querySelector('input').addEventListener('change', () => {
          const raw = Number(opt.value);
          state.answers[state.idx] = q.reverse ? 10 - raw : raw;
          state.idx += 1;
          if (state.idx < questions.length) renderQuestion();
          else renderResult();
        });
        choices.appendChild(row);
      });
    }

    function computeScore() {
      let weighted = 0;
      let totalWeight = 0;
      questions.forEach((q, i) => {
        weighted += (state.answers[i] || 0) * q.weight;
        totalWeight += 10 * q.weight;
      });
      return Math.round((weighted / totalWeight) * 100);
    }

    function profileFromScore(score) {
      if (score < 35) {
        return {
          badge: 'Croissance structur√©e',
          badgeClass: 'badge-ok',
          wording: 'Les signaux de saturation restent limit√©s. Le pilotage semble ma√Ætris√©.',
          reformulation: 'Formulation board-ready : "La dynamique commerciale reste compatible avec la capacit√© op√©rationnelle actuelle, sous r√©serve d‚Äôun suivi mensuel des points de friction."'
        };
      }
      if (score < 65) {
        return {
          badge: 'Zone de tension',
          badgeClass: 'badge-warn',
          wording: 'La croissance cr√©e des tensions visibles entre vente, op√©rations et gouvernance.',
          reformulation: 'Formulation board-ready : "Le mod√®le op√®re en zone interm√©diaire : la croissance est active, mais la robustesse op√©rationnelle n√©cessite un plan de priorisation court terme."'
        };
      }
      return {
        badge: 'Saturation op√©rationnelle probable',
        badgeClass: 'badge-danger',
        wording: 'Les signaux combin√©s indiquent un risque √©lev√© de saturation op√©rationnelle.',
        reformulation: 'Formulation board-ready : "Le score met en √©vidence une dissociation entre dynamique commerciale et capacit√© d‚Äôex√©cution ; un arbitrage de charge et de gouvernance est √† traiter au niveau direction."'
      };
    }

    function renderResult() {
      const score = computeScore();
      const p = profileFromScore(score);
      resultContent.innerHTML = `
        <h2>R√©sultats</h2>
        <div class="result-card">
          <div class="result-badge ${p.badgeClass}">${p.badge}</div>
          <p><strong>Score pond√©r√© :</strong> ${score}/100</p>
          <p>${p.wording}</p>
        </div>
        <div class="result-card">
          <strong>Reformulations board-ready</strong>
          <p>${p.reformulation}</p>
          <div class="context" style="margin-top:8px;">
            <strong>üìç Contexte Belgique 2025‚Äì2026</strong><br />
            Selon le SPF √âconomie, la Belgique a enregistr√© <strong>11 067 faillites en 2025</strong>, niveau annuel le plus √©lev√© observ√© sur la p√©riode r√©cente.<br />
            Source : SPF √âconomie, Barom√®tre des faillites (2026).
          </div>
        </div>
      `;

      const base = 'https://calendly.com/homieuxmedia/discovery-call-gratuit-discutons-de-vos-defis';
      document.getElementById('ctaBtn').href = `${base}?score=${encodeURIComponent(score)}`;
      show('result');
    }

    function restart() {
      state.idx = 0;
      state.answers = [];
      show('home');
    }

    function downloadPDF() {
      const score = computeScore();
      const p = profileFromScore(score);
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      doc.setFont('helvetica', 'bold');
      doc.setTextColor(0, 8, 135);
      doc.text('Diagnostic rapide : Croissance vs. Saturation op√©rationnelle', 14, 16);
      doc.setFont('helvetica', 'normal');
      doc.setTextColor(20, 20, 20);
      doc.text(`Score pond√©r√© : ${score}/100`, 14, 30);
      doc.text(`Lecture : ${p.badge}`, 14, 38);
      doc.text(p.wording, 14, 50, { maxWidth: 180 });
      doc.text('Reformulation board-ready :', 14, 70);
      doc.text(p.reformulation.replace('Formulation board-ready : ', ''), 14, 78, { maxWidth: 180 });
      doc.save('diagnostic-croissance-saturation.pdf');
    }

    document.getElementById('startBtn').addEventListener('click', () => {
      show('quiz');
      renderQuestion();
    });
    document.getElementById('restartBtn').addEventListener('click', restart);
    document.getElementById('pdfBtn').addEventListener('click', downloadPDF);
  </script>
</body>
</html>
